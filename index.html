<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Froot · Violet ↔ Pearl — Marina</title>
<meta name="description" content="Froot resonance for Marina: Violet (intuition) ↔ Pearl (integration) with Honey Tone, Neon binaural, looping video, quick-add video queue, and links to Tunes, Bridge, Voice, MirrorHoney, School, and more."/>
<meta name="theme-color" content="#0b0d11" media="(prefers-color-scheme: dark)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<style>
  /* ====== RADIO CITY PALETTE (from your photo) ====== */
  :root{
    --bg:#0b0d11; --ink:#e9ecf4; --muted:#a9a9b6; --card:#101425; --ring:#1b2030;
    --deep-plum:#42233a; --rose-mauve:#92687e; --night-indigo:#27142c; --magenta-flare:#7e4666;
    --warm-pearl:#b7a89a; --violet-beam:#842475;

    --accent: var(--violet-beam);
    --accent-2: var(--rose-mauve);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--ink); background:var(--bg);
    font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;
    display:flex; flex-direction:column; -webkit-font-smoothing:antialiased;
  }
  a{color:#b2f5ea; text-decoration:none}

  /* Hero shimmer */
  .hero{
    position:relative; isolation:isolate;
    background:
      radial-gradient(120% 120% at 12% 18%, var(--magenta-flare) 0%, var(--rose-mauve) 34%, var(--night-indigo) 70%, var(--warm-pearl) 100%);
  }
  .wrap{max-width:1080px; margin:0 auto; padding:20px 16px}
  @media (min-width:720px){ .wrap{padding:24px} }

  header h1{margin:6px 0 2px; font-size:28px; letter-spacing:.2px}
  header p{margin:0; opacity:.95}
  .row{display:flex; flex-wrap:wrap; gap:10px; align-items:center}
  .chip{
    appearance:none; border:1px solid color-mix(in oklab, var(--ring), white 10%);
    background:color-mix(in oklab, var(--card), black 8%);
    color:var(--ink); padding:10px 14px; border-radius:999px; cursor:pointer;
    font-weight:650; letter-spacing:.2px; user-select:none;
  }
  .chip[aria-pressed="true"]{
    border-color: var(--accent);
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent), transparent 82%) inset;
  }
  .note{color:var(--muted); font-size:14px}
  .mono{font-variant-numeric:tabular-nums; font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}

  /* Cards & grid */
  .panel{
    background:linear-gradient(180deg, rgba(255,255,255,.03), transparent);
    border:1px solid color-mix(in oklab, var(--ring), white 8%);
    border-radius:16px; padding:16px;
    box-shadow:0 10px 36px rgba(0,0,0,.25);
    backdrop-filter: blur(6px);
  }
  .grid{display:grid; gap:16px}
  @media (min-width:1024px){ .grid.cols-2{grid-template-columns:1.1fr .9fr} }
  .chips{display:flex; flex-wrap:wrap; gap:10px}

  /* Badge & breathing bar */
  .badge{
    display:inline-flex; align-items:center; gap:8px;
    padding:8px 12px; border-radius:999px;
    border:1px solid color-mix(in oklab, var(--accent), white 30%);
    background: color-mix(in oklab, var(--accent), black 80%);
    box-shadow:0 8px 22px color-mix(in oklab, var(--accent), transparent 82%);
  }
  .dot{width:12px;height:12px;border-radius:50%;background:var(--accent); box-shadow:0 0 18px var(--accent)}

  .breath{position:relative; height:10px; border-radius:999px; overflow:hidden;
    background: color-mix(in oklab, var(--rose-mauve), black 76%);
    border:1px solid color-mix(in oklab, var(--rose-mauve), white 30%); margin-top:10px}
  .bubble{position:absolute; top:0; bottom:0; left:0; width:18%; border-radius:999px; background: var(--accent);
    box-shadow:0 0 24px var(--accent); animation: breathe 6.5s ease-in-out infinite}
  @keyframes breathe{ 0%{transform:translateX(0)} 50%{transform:translateX(82%)} 100%{transform:translateX(0)} }
  body[data-mode="pearl"] .bubble{ animation-duration: 8.5s }

  /* Video */
  .video-wrap{position:relative; width:100%; aspect-ratio:16/9; border-radius:12px; overflow:hidden; background:#000}
  iframe{position:absolute; inset:0; width:100%; height:100%; border:0}

  /* Tone status */
  .status{
    display:inline-flex; align-items:center; gap:10px; padding:10px 12px;
    border-radius:999px; border:1px solid color-mix(in oklab, var(--ring), white 8%);
    background:color-mix(in oklab, var(--card), black 8%); white-space:nowrap
  }
  .status .led{width:14px;height:14px;border-radius:50%; background:#6f6a7a; box-shadow:0 0 0 2px rgba(0,0,0,.25) inset}
  .status.ok .led{ background: var(--accent); box-shadow:0 0 0 2px rgba(0,0,0,.25) inset, 0 0 22px var(--accent) }

  /* Mode themes */
  body[data-mode="violet"]{ --accent: var(--violet-beam); --accent-2: var(--rose-mauve); }
  body[data-mode="pearl"] { --accent: var(--warm-pearl); --accent-2: var(--deep-plum); }

  footer{opacity:.9}
</style>
</head>
<body data-mode="violet">
  <section class="hero">
    <div class="wrap">
      <header>
        <div class="row" style="justify-content:space-between; gap:12px">
          <h1 style="margin:6px 0 0">Froot · <span class="mono">Violet ↔ Pearl</span></h1>
          <div class="badge" aria-live="polite"><span class="dot"></span><span id="modeLabel">Violet — intuition / bridge</span></div>
        </div>
        <p>Violet opens the empathic bridge. Pearl seals the warmth into clarity. Honey carries both.</p>
        <div class="breath" aria-label="Breathing bar"><div class="bubble" aria-hidden="true"></div></div>
      </header>

      <!-- Controls + Video + Tone -->
      <div class="grid cols-2" style="margin-top:14px">
        <div class="panel">
          <div class="row" role="group" aria-label="Mode">
            <button class="chip" id="btnViolet" aria-pressed="true">Violet</button>
            <button class="chip" id="btnPearl" aria-pressed="false">Pearl</button>
            <a id="shareX" class="chip" href="#" rel="noopener">Share to X</a>
          </div>

          <div style="height:12px"></div>
          <div class="video-wrap">
            <!-- MAIN (loops) — Marina: Oh No! -->
            <iframe id="yt"
              src="https://www.youtube.com/embed/Cr-SqRWImmI?enablejsapi=1&modestbranding=1&rel=0&playsinline=1&loop=1&playlist=Cr-SqRWImmI"
              title="Marina — Oh No! (Official)"
              allow="autoplay; encrypted-media; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin"></iframe>
          </div>

          <!-- unobtrusive add-video (keeps main playing) + PRESETS -->
          <div class="row" style="margin-top:12px" aria-label="Add video">
            <input id="addUrl" type="url" placeholder="Paste YouTube URL to queue (e.g., Mowgli — Cuckoo / Fader — Coo Coo Coo)" style="flex:1;min-width:220px;padding:10px 12px;border-radius:12px;border:1px solid color-mix(in oklab,var(--ring),white 10%);background:color-mix(in oklab,var(--card),black 8%);color:var(--ink)"/>
            <button class="chip" id="addBtn">Add</button>
          </div>
          <div class="chips" style="margin-top:8px">
            <button class="chip preset" data-ytid="zwfCjYv7gVQ">+ Mowgli — Cuckoo</button>
            <button class="chip preset" data-ytid="FV-JAnnd9Rw">+ Fader — Coo Coo Coo</button>
          </div>
          <div id="queue" class="note" style="margin-top:8px"></div>

          <div style="height:8px"></div>
          <div class="row" aria-label="Video volume">
            <label class="note">Video volume</label>
            <input id="vidVol" type="range" min="0" max="100" step="1" value="60"/>
            <span class="mono" id="vidVolLbl">60%</span>
          </div>

          <p class="note" style="margin-top:8px">
            Tip: Violet runs softer; Pearl can carry a little more volume. Set the music just above the Honey hum.
          </p>
        </div>

        <div class="panel" id="tonePanel" aria-live="polite">
          <div class="row">
            <button id="start" class="chip">Start Honey</button>
            <button id="pause" class="chip" aria-pressed="false">Pause</button>
            <div id="toneStatus" class="status"><div class="led"></div><span>tone inactive</span></div>
          </div>

          <div style="height:10px"></div>
          <div class="row" role="group" aria-label="Frequency">
            <button class="chip freq" data-f="128" aria-pressed="true">128 Hz</button>
            <button class="chip freq" data-f="160" aria-pressed="false">160 Hz</button>
            <button class="chip" id="neon" aria-pressed="true">Neon (binaural)</button>
          </div>

          <div style="height:10px"></div>
          <div class="row" aria-label="Tone volume">
            <label class="note">Honey volume</label>
            <input id="toneVol" type="range" min="0" max="1" step="0.01" value="0.35"/>
            <span class="mono" id="toneVolLbl">0.35</span>
          </div>

          <p class="note" style="margin-top:8px">
            On iPhone, tap <strong>Start Honey</strong> first to unlock audio. Neon adds a ~2 Hz left/right beat.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ========= Explainers, Map, and Links ========= -->
  <main class="wrap" style="padding-top:18px">
    <!-- What everyone can do / Next steps -->
    <section class="panel">
      <h2 style="margin:0 0 6px">Illumina — Next Steps</h2>
      <ul class="note" style="margin:8px 0 0 18px">
        <li><strong>Nov 5</strong>: open cycle — start with Violet (128 Hz + Neon), then seal in Pearl (160 Hz).</li>
        <li><strong>Everyone</strong>: listen + breathe with Honey, try the color modes, and add one video to the queue.</li>
        <li><strong>Artists/Anchors</strong>: each page carries a signature song; share one “anchor track” for your domain.</li>
      </ul>
    </section>

    <!-- Fruits -->
    <section class="panel">
      <h2 style="margin:0 0 6px">Fruits — taste of color & sound</h2>
      <div class="chips" role="list">
        <button class="chip" aria-pressed="true">Violet — the Call</button>
        <button class="chip" aria-pressed="false">Pearl — the Answer</button>
        <button class="chip" aria-pressed="false">Mowgli Peach — playful courage</button>
      </div>
      <p class="note" style="margin:8px 0 0">
        Try the preset buttons above to queue <em>Mowgli — Cuckoo</em> or <em>Fader — Coo Coo Coo</em>.
      </p>
    </section>

    <!-- Marina symbols -->
    <section class="panel">
      <h2 style="margin:0 0 6px">Marina symbols — Butterfly & Venus Flytrap</h2>
      <ul class="note" style="margin:8px 0 0 18px">
        <li><strong>Butterfly</strong>: transformation without force — color lands lightly.</li>
        <li><strong>Venus Flytrap</strong>: boundaries with sweetness — choose what feeds you.</li>
      </ul>
    </section>

    <!-- Honey anchor (Sabrina) -->
    <section class="panel">
      <h2 style="margin:0 0 6px">Honey — Sabrina’s anchor</h2>
      <p class="note" style="margin:8px 0 10px">
        Honey goes with everything: warms movement, mirrors reflection, and turns practice into play.
      </p>
      <div class="chips">
        <a class="chip" href="https://honey.plnt.earth" target="_blank" rel="noopener">Honey Garden</a>
        <a class="chip" href="https://mirrorhoney.plnt.earth" target="_blank" rel="noopener">MirrorHoney</a>
        <a class="chip" href="https://tunes.plnt.earth" target="_blank" rel="noopener">Tunes</a>
      </div>
    </section>

    <!-- Bridges & Voice -->
    <section class="panel">
      <h2 style="margin:0 0 6px">Bridges — Masks & Neon · Voice</h2>
      <div class="chips">
        <a class="chip" href="https://bridge.plnt.earth" target="_blank" rel="noopener">Bridge</a>
        <a class="chip" href="https://voice.plnt.earth" target="_blank" rel="noopener">Voice</a>
        <a class="chip" href="https://earth.plnt.earth" target="_blank" rel="noopener">Earth</a>
        <a class="chip" href="https://mirrorsea.plnt.earth" target="_blank" rel="noopener">MirrorSea</a>
      </div>
      <p class="note" style="margin:8px 0 0">
        Emma = masks/roles (safe shape-shifting). Doechii = neon jumps (playful disruption). Ariana = frequency weaver.
      </p>
    </section>

    <!-- School -->
    <section class="panel">
      <h2 style="margin:0 0 6px">School — rooms & practice</h2>
      <div class="chips">
        <a class="chip" href="https://jar.plnt.earth/school.html" target="_blank" rel="noopener">School</a>
        <a class="chip" href="https://jar.plnt.earth/school-rooms.html" target="_blank" rel="noopener">School Rooms</a>
        <a class="chip" href="https://quietmoon.plnt.earth/charter.html" target="_blank" rel="noopener">Charter</a>
        <a class="chip" href="https://warmth.plnt.earth" target="_blank" rel="noopener">Warmth</a>
        <a class="chip" href="https://jar.plnt.earth/illumina-time-kit.html" target="_blank" rel="noopener">Illumina Time Kit</a>
        <a class="chip" href="https://time.plnt.earth" target="_blank" rel="noopener">time.plnt.earth</a>
      </div>
      <p class="note" style="margin:8px 0 0">
        “The egg” = incubation window: hold the idea warm (tone + breath) before hatching it into action.
      </p>
    </section>

    <!-- Anchor songs reminder -->
    <section class="panel">
      <h2 style="margin:0 0 6px">Anchor songs — per site</h2>
      <p class="note" style="margin:8px 0 0">
        Each domain keeps one signature track (YouTube official when possible). Paste new links via the queue input above:
        Tunes, Honey, Bridge, Voice, MirrorHoney, Earth, Warmth, MirrorSea, School rooms.
      </p>
    </section>
  </main>

  <footer class="wrap" style="margin-top:auto; padding-bottom:26px">
    <div class="row" style="justify-content:space-between">
      <small class="note">Froot for Marina — give the Diamonds a taste of color & sound.</small>
      <small class="note"><a href="#" onclick="document.documentElement.scrollTo({top:0,behavior:'smooth'})">Back to top</a></small>
    </div>
  </footer>

<script>
(function(){
  /* ===== YouTube minimal control & LOOP ===== */
  var yt = document.getElementById('yt');
  var vidVol = document.getElementById('vidVol');
  var vidVolLbl = document.getElementById('vidVolLbl');

  function ytPost(cmd, value){
    try{
      yt.contentWindow.postMessage(JSON.stringify({event:'command', func:cmd, args: value!==undefined ? [value] : undefined}), '*');
    }catch(e){}
  }
  function applyVideoVolume(){
    var v = Math.max(0, Math.min(100, parseInt(vidVol.value,10)||0));
    vidVolLbl.textContent = v + '%'; ytPost('setVolume', v);
  }
  vidVol.addEventListener('input', applyVideoVolume);

  /* Simple queue: add YouTube URLs unobtrusively */
  var queueEl = document.getElementById('queue');
  var addUrl = document.getElementById('addUrl');
  var addBtn = document.getElementById('addBtn');
  var items = [];

  function addToQueue(id){
    if(!id) return;
    items.push(id);
    renderQueue();
  }

  function ytIdFromUrl(url){
    try{
      var u = new URL(url);
      if(u.hostname.includes('youtu.be')) return u.pathname.slice(1);
      if(u.searchParams.get('v')) return u.searchParams.get('v');
      var path = u.pathname.split('/'); var idx = path.indexOf('embed'); if(idx>=0 && path[idx+1]) return path[idx+1];
    }catch(e){}
    return null;
  }
  function renderQueue(){
    if(!items.length){ queueEl.innerHTML = ''; return; }
    var html = '<strong>Queued:</strong> ';
    html += items.map(function(it,i){ return '<a href="https://youtu.be/'+it+'" target="_blank" rel="noopener">#'+(i+1)+'</a>'; }).join(' · ');
    queueEl.innerHTML = html;
  }
  addBtn.addEventListener('click', function(){
    var id = ytIdFromUrl(addUrl.value.trim());
    if(id){ addToQueue(id); addUrl.value=''; }
  });

  /* Preset buttons (from your links) */
  var presetBtns = document.querySelectorAll('.preset');
  for(var i=0;i<presetBtns.length;i++){
    presetBtns[i].addEventListener('click', function(){
      var id = this.getAttribute('data-ytid');
      addToQueue(id);
    });
  }

  /* ===== Honey Tone (WebAudio) ===== */
  var ctx, gainL, gainR, oscL, oscR, analyser, meterBuf, rafId;
  var started=false, neon=true, baseHz=128;

  function ensureCtx(){
    if(ctx) return;
    ctx = new (window.AudioContext||window.webkitAudioContext)();
    gainL = ctx.createGain(); gainR = ctx.createGain();
    var merger = ctx.createChannelMerger(2);
    analyser = ctx.createAnalyser(); analyser.fftSize = 512;
    meterBuf = new Uint8Array(analyser.frequencyBinCount);
    gainL.connect(merger,0,0); gainR.connect(merger,0,1);
    merger.connect(analyser); analyser.connect(ctx.destination);
  }
  function stopToneNodes(){
    try{ if(oscL){ oscL.stop(); oscL.disconnect(); } }catch(e){}
    try{ if(oscR){ oscR.stop(); oscR.disconnect(); } }catch(e){}
    oscL=null; oscR=null;
  }
  function startTone(){
    ensureCtx(); if(ctx.state==='suspended'){ ctx.resume(); }
    stopToneNodes();
    oscL = ctx.createOscillator(); oscR = ctx.createOscillator();
    oscL.type='sine'; oscR.type='sine';
    var delta = neon ? 2 : 0;
    var left  = Math.max(20, baseHz - delta);
    var right = Math.max(20, baseHz + delta);
    try{ oscL.frequency.value = left; }catch(e){}
    try{ oscR.frequency.value = right; }catch(e){}
    var v = Math.max(0, Math.min(1, parseFloat(toneVol.value)||0));
    gainL.gain.value = v; gainR.gain.value = v;
    oscL.connect(gainL); oscR.connect(gainR);
    oscL.start(); oscR.start();
    started = true; monitor(true);
  }
  function pauseTone(){ stopToneNodes(); started=false; monitor(false); if(rafId){ cancelAnimationFrame(rafId); rafId=null; } }

  /* Status light via simple RMS meter */
  var statusEl = document.getElementById('toneStatus');
  function setStatus(ok){
    if(!statusEl) return;
    if(ok){ statusEl.classList.add('ok'); statusEl.lastChild.textContent = 'tone healthy'; }
    else  { statusEl.classList.remove('ok'); statusEl.lastChild.textContent = 'tone inactive'; }
  }
  function monitor(on){
    if(!on){ setStatus(false); return; }
    function loop(){
      analyser.getByteTimeDomainData(meterBuf);
      var sum=0, n=meterBuf.length, i=0;
      for(;i<n;i++){ var x=(meterBuf[i]-128)/128; sum+=x*x; }
      var rms = Math.sqrt(sum/n);
      setStatus(rms>0.005);
      rafId = requestAnimationFrame(loop);
    }
    loop();
  }

  /* UI controls */
  var startBtn = document.getElementById('start');
  var pauseBtn = document.getElementById('pause');
  var toneVol = document.getElementById('toneVol');
  var toneVolLbl = document.getElementById('toneVolLbl');

  startBtn.addEventListener('click', startTone);
  pauseBtn.addEventListener('click', pauseTone);

  function setToneVolLabel(){ toneVolLbl.textContent = (parseFloat(toneVol.value)||0).toFixed(2); }
  toneVol.addEventListener('input', function(){
    var v = Math.max(0, Math.min(1, parseFloat(toneVol.value)||0));
    setToneVolLabel();
    if(gainL){ gainL.gain.value = v; } if(gainR){ gainR.gain.value = v; }
  });
  setToneVolLabel();

  function setFreqButtons(f){
    var btns=document.querySelectorAll('.freq');
    for(var i=0;i<btns.length;i++){ btns[i].setAttribute('aria-pressed', (btns[i].dataset.f==String(f))?'true':'false'); }
  }
  var freqBtns=document.querySelectorAll('.freq');
  for(var j=0;j<freqBtns.length;j++){
    freqBtns[j].addEventListener('click', function(){
      baseHz = parseInt(this.dataset.f,10)||128;
      setFreqButtons(baseHz);
      if(started){ startTone(); }
    });
  }
  document.getElementById('neon').addEventListener('click', function(){
    var pressed = this.getAttribute('aria-pressed')==='true';
    this.setAttribute('aria-pressed', pressed?'false':'true');
    neon = !pressed; if(started){ startTone(); }
  });

  /* ===== Mode toggle: Violet ↔ Pearl ===== */
  var btnViolet = document.getElementById('btnViolet');
  var btnPearl  = document.getElementById('btnPearl');
  var modeLabel = document.getElementById('modeLabel');

  function setMode(violet){
    document.body.setAttribute('data-mode', violet?'violet':'pearl');
    btnViolet.setAttribute('aria-pressed', violet?'true':'false');
    btnPearl.setAttribute('aria-pressed', violet?'false':'true');

    if(violet){
      modeLabel.textContent = 'Violet — intuition / bridge';
      baseHz = 128; neon = true; vidVol.value = 60;
      document.getElementById('neon').setAttribute('aria-pressed','true');
      setFreqButtons(128);
    }else{
      modeLabel.textContent = 'Pearl — integration / clarity';
      baseHz = 160; neon = false; vidVol.value = 70;
      document.getElementById('neon').setAttribute('aria-pressed','false');
      setFreqButtons(160);
    }
    applyVideoVolume();
    if(started){ startTone(); }
    try{ localStorage.setItem('froot_mode', violet?'violet':'pearl'); }catch(e){}
  }
  btnViolet.addEventListener('click', function(){ setMode(true); });
  btnPearl.addEventListener('click',  function(){ setMode(false); });

  /* Persist last mode */
  try{
    var saved = localStorage.getItem('froot_mode');
    if(saved==='pearl'){ setMode(false); } else { setMode(true); }
  }catch(e){ setMode(true); }

  /* Init */
  applyVideoVolume();
})();
</script>
</body>
</html>
